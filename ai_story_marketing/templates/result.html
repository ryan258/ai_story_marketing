<!-- 📁 File: ai_story_marketing/ai_story_marketing/templates/result.html -->

{% extends "base.html" %}
{% block content %}

<div class="container mx-auto px-4 py-8">
    <div class="bg-white p-8 rounded-lg shadow-2xl">
        <h1 class="text-4xl font-bold mb-8 text-center text-gray-800">🎉 Your Amazing Story and Marketing Plan</h1>

        <div class="mb-8">
            <h2 class="text-2xl font-semibold mb-2 text-gray-700">Your Progress - All Complete! 🎊</h2>
            <div class="w-full bg-gray-200 rounded-full h-2.5 dark:bg-gray-700">
                <div class="bg-green-600 h-2.5 rounded-full w-full"></div>
            </div>
            {% for step in progress %}
                <p class="mt-2">✅ {{ step|replace('_', ' ')|title }}</p>
            {% endfor %}
        </div>

        <div class="section mb-12">
            <h2 class="text-2xl font-semibold mb-4 text-gray-700">📖 Your Story</h2>
            <div class="markdown-content text-gray-600">
                {{ result.story|safe }}
            </div>
        </div>

        <div class="section mb-12">
            <h2 class="text-2xl font-semibold mb-4 text-gray-700">🧐 Story Evaluation</h2>
            <p class="font-bold">Score: {{ result.evaluation.score }}/10</p>
            <div class="markdown-content text-gray-600">
                <p class="font-bold">Feedback:</p>
                {{ result.evaluation.feedback|safe }}
            </div>
        </div>

        <div class="section mb-12">
            <h2 class="text-2xl font-semibold mb-4 text-gray-700">🎯 Marketing Analysis</h2>
            <h3 class="text-xl font-medium mb-2 text-gray-600">Target Audience:</h3>
            <div class="markdown-content text-gray-600 mb-4">
                {{ result.marketing_analysis.target_audience|safe }}
            </div>
            <h3 class="text-xl font-medium mb-2 text-gray-600">Personas:</h3>
            <ul class="list-disc pl-5">
                {% for persona in result.marketing_analysis.personas %}
                    <li class="markdown-content text-gray-600">{{ persona|safe }}</li>
                {% endfor %}
            </ul>
        </div>

        <div class="section mb-12">
            <h2 class="text-2xl font-semibold mb-4 text-gray-700">📱 Social Media Content</h2>
            {% for platform, content in result.social_media_content.items() %}
                <div class="mb-4">
                    <h3 class="text-xl font-medium mb-2 text-gray-600">{{ platform }}</h3>
                    <div class="markdown-content text-gray-600">
                        {{ content|safe }}
                    </div>
                </div>
            {% endfor %}
        </div>

        <div class="section mb-12">
            <h2 class="text-2xl font-semibold mb-4 text-gray-700">🎨 Marketing Concepts</h2>
            {% for concept, description in result.marketing_concepts.items() %}
                <div class="mb-4">
                    <h3 class="text-xl font-medium mb-2 text-gray-600">{{ concept|title }}</h3>
                    <div class="markdown-content text-gray-600">
                        {{ description|safe }}
                    </div>
                </div>
            {% endfor %}
        </div>

        <div class="text-center mt-8">
            <a href="/" class="inline-block bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline">
                Create New Story 🚀
            </a>
        </div>

        <div class="text-center mt-4">
            <a href="{{ url_for('download_pdf') }}" class="inline-block bg-green-500 hover:bg-green-700 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline">
                Download PDF 📥
            </a>
        </div>
    </div>
</div>

{% endblock %}